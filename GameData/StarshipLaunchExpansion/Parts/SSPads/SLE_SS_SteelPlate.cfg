PART
{
	name = SLE_SS_SteelPlate
	module = Part
	author = IsaQuest - Fossilized - SAMCG14

	MODEL
	{
		model = StarshipLaunchExpansion/Parts/SSPads/SLE_SS_SteelPlate
		scale = 1, 1, 1
	}
	
	rescaleFactor = 1
	NODE
	{
		name = bottom
		transform = node_stack_bottom
		size = 5
		method = FIXED_JOINT
	}
	TechRequired = specializedConstruction
	entryCost = 100
	cost = 10
	category = Structural
	subcategory = 0
	title =  #LOC_SLE_SS_SteelPlate_title
	manufacturer = StarshipLaunchExpansion & Fart Industries & Fossil Industries
	description =  #LOC_SLE_SS_SteelPlate_detail
	attachRules = 1,0,1,1,0
		
	mass = 20
	dragModelType = default
	maximum_drag = 0.2
	minimum_drag = 0.3
	angularDrag = 2
	crashTolerance = 100
	breakingForce = 500000
	breakingTorque = 500000
	maxTemp = 5000
	//sound_decoupler_fire = activate
	stageOffset = 0
	childStageOffset = 0
	fuelCrossFeed = True
	bulkheadProfiles = size2
	//overrideStagingIconIfBlank = true
	tags = Starship Super Heavy Booster SpaceX Landing Ship Launch Pad Table OLM Orbital OLM SteelPlate Deluge Water Supression System
	
	RESOURCE
    {
        name = DelugeWater
        amount = 25
        maxAmount = 25
    }
	MODULE
	{
		name = ModuleGenerator
		isAlwaysActive = false
		requiresAllinputs = false
		resourceThreshold = 0.001
		activateGUIName = #LOC_SLE_SS_OLM_Start_FuelingWater
		shutdownGUIName = #LOC_SLE_SS_OLM_Stop_FuelingWater
		toggleGUIName = #LOC_SLE_SS_OLM_Toggle_FuelingWater

		OUTPUT_RESOURCE
		{
			name = DelugeWater
			rate = 0.5
		}
	}
	EFFECTS
    {
        running_deluge
        {
			MODEL_MULTI_PARTICLE
            {
                name = delugeWater
                modelName = StarshipLaunchExpansion/FX/delugeWater
                transformName = DelugeTransform
                emission = 0.0 0.25
                emission = 1.0 1
                speed = 0.0 0.25
                speed = 1.0 1
            }
			AUDIO
			{
				channel = Ship
				clip = StarshipLaunchExpansion/Sounds/waterfall
				volume = 0.0 0.0
				volume = 0.05 0.6
				volume = 1.0 1.5
				pitch = 0.0 0.5
				pitch = 1.0 0.9
				loop = true
			} 
    	}
    }
	MODULE
    {
        name = ModuleEnginesFX
        runningEffectName = running_deluge
        thrustVectorTransformName = DelugeTransform
        throttleLocked = True
        exhaustDamage = False
        allowShutdown = True
		stagingEnabled = False
        ignitionThreshold = 0.1
        minThrust = 0
        maxThrust = 1
        heatProduction = 0
        nonThrustMotor = true
		engineAccelerationSpeed = 10.5
		engineDecelerationSpeed = 10
		useEngineResponseTime = True
		
        PROPELLANT
        {
            name = DelugeWater
            ratio = 2
            DrawGauge = True
        }
        atmosphereCurve
        {
            key = 0 100
            key = 1 100
        }
    }
	MODULE
	{
		name = ModuleB9PartSwitch
		moduleID = puddles
		switcherDescription = Effect
		switchInFlight = True
		SUBTYPE
		{
			name = Dry
			transform = SteelPlateDry
		}
		SUBTYPE
		{
			name = Puddles
			transform = SteelPlateWet
		}
		
	}
	MODULE
	{
		name = ModuleB9AssignUiGroups
		MODULE
		{
			IDENTIFIER
			{
				name = ModuleEnginesFX
				runningEffectName = running_deluge
			}
			uiGroupName = WaterDelugeSystem
			uiGroupDisplayName = #LOC_SLE_SS_SteelPlate_WaterDeluge
		}
		MODULE
		{
			IDENTIFIER
			{
				name = ModuleGenerator
				activateGUIName = #LOC_SLE_SS_OLM_Start_FuelingWater
			}
			uiGroupName = WaterDelugeSystem
			uiGroupDisplayName = #LOC_SLE_SS_SteelPlate_WaterDeluge
		}
	}
	MODULE:NEEDS[StarshipExpansionProject]
	{
		name = ModuleSEPPartSwitchAction
		SwitchID = puddles
		ActionName = Effect
		ShowCurrentSubtype = true
	}
}